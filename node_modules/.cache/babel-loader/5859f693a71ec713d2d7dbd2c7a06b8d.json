{"ast":null,"code":"import _slicedToArray from\"/Users/vladimirsmirnov/Desktop/portfolio_final_gray/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{AiFillEye,AiFillGithub}from'react-icons/ai';import{motion}from'framer-motion';import{AppWrap,MotionWrap}from'../../wrapper';import{urlFor,client}from'../../client';import'./Work.scss';import Pagination from'../../components/Pagination/Pagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Work=function Work(){var _useState=useState('All'),_useState2=_slicedToArray(_useState,2),activeFilter=_useState2[0],setActiveFilter=_useState2[1];var _useState3=useState({y:0,opacity:1}),_useState4=_slicedToArray(_useState3,2),animateCard=_useState4[0],setAnimateCard=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),works=_useState6[0],setWorks=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),filterWork=_useState8[0],setFilterWork=_useState8[1];var postsPerPage=8;var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),currentPage=_useState10[0],setCurrentPage=_useState10[1];var pageNumbers=Math.ceil(filterWork.length/postsPerPage);var indexOfLastPost=currentPage*postsPerPage;var indexOfFirstPost=indexOfLastPost-postsPerPage;var paginateFront=function paginateFront(){return currentPage<pageNumbers?setCurrentPage(currentPage+1):setCurrentPage(currentPage);};var paginateBack=function paginateBack(){return currentPage>1?setCurrentPage(currentPage-1):setCurrentPage(currentPage);};var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var totalWorks=filterWork.length;var currentWorks=filterWork.slice(indexOfFirstPost,indexOfLastPost);useEffect(function(){var query='*[_type == \"works\"]';client.fetch(query).then(function(data){setWorks(data);setFilterWork(data);});},[]);var handleWorkFilter=function handleWorkFilter(item){setActiveFilter(item);setAnimateCard([{y:100,opacity:0}]);setCurrentPage(1);setTimeout(function(){setAnimateCard([{y:0,opacity:1}]);if(item==='All'){setFilterWork(works);}else{setFilterWork(works.filter(function(work){return work.tags.includes(item);}));}},500);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app__works\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"works__text\",children:\"Projects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"app__work-filter\",children:['All','HTML CSS JS','React','Vue','Django','Laravel'].map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return handleWorkFilter(item);},className:\"app__work-filter-item \".concat(activeFilter===item?'item-active':''),children:/*#__PURE__*/_jsx(\"p\",{children:item})},index);})}),/*#__PURE__*/_jsxs(motion.div,{animate:animateCard,transition:{duration:1,delayChildren:1},className:\"app__work-portfolio\",children:[currentWorks===null||currentWorks===void 0?void 0:currentWorks.map(function(work,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"app__work-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app__work-img\",children:/*#__PURE__*/_jsx(\"img\",{src:urlFor(work.imgUrl),alt:work.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"app__work-content \",children:[/*#__PURE__*/_jsx(\"h4\",{children:work.title}),/*#__PURE__*/_jsx(\"p\",{children:work.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"p__author\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Author:\"}),\" SVM\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"p__date\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Date:\"}),\" 01.01.2023\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"app__work-tag \",children:/*#__PURE__*/_jsxs(\"p\",{children:[work.tags[1],\" \"]})})]}),/*#__PURE__*/_jsx(\"a\",{href:work.projectLink,target:\"_blank\",children:/*#__PURE__*/_jsxs(motion.div,{whileHover:{opacity:[0,1]},transition:{duration:0.25,ease:'easeInOut',staggerChildren:0.5},className:\"app__work-hover\",onClick:\"\",children:[/*#__PURE__*/_jsx(\"a\",{href:work.projectLink,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(motion.div,{whileInView:{scale:[0,1]},whileHover:{scale:[1,0.9]},transition:{duration:0.25},children:/*#__PURE__*/_jsx(AiFillEye,{})})}),/*#__PURE__*/_jsx(\"a\",{href:work.codeLink,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(motion.div,{whileInView:{scale:[0,1]},whileHover:{scale:[1,0.9]},transition:{duration:0.25},children:/*#__PURE__*/_jsx(AiFillGithub,{})})})]})})]},index);}),!currentWorks.length&&/*#__PURE__*/_jsx(\"div\",{className:\"in__process\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"In the process of being placed in the portfolio\"})}),/*#__PURE__*/_jsx(Pagination,{postsPerPage:postsPerPage,totalWorks:totalWorks,paginate:paginate,paginateBack:paginateBack,paginateFront:paginateFront,currentPage:currentPage})]})]});};export default AppWrap(MotionWrap(Work,'app__works'),'projects','app__works_bg_');","map":{"version":3,"names":["React","useState","useEffect","AiFillEye","AiFillGithub","motion","AppWrap","MotionWrap","urlFor","client","Pagination","Work","activeFilter","setActiveFilter","y","opacity","animateCard","setAnimateCard","works","setWorks","filterWork","setFilterWork","postsPerPage","currentPage","setCurrentPage","pageNumbers","Math","ceil","length","indexOfLastPost","indexOfFirstPost","paginateFront","paginateBack","paginate","pageNumber","totalWorks","currentWorks","slice","query","fetch","then","data","handleWorkFilter","item","setTimeout","filter","work","tags","includes","map","index","duration","delayChildren","imgUrl","name","title","description","projectLink","ease","staggerChildren","scale","codeLink"],"sources":["/Users/vladimirsmirnov/Desktop/portfolio_final_gray/client/src/container/Work/Work.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { AiFillEye, AiFillGithub } from 'react-icons/ai'\nimport { motion } from 'framer-motion'\n\nimport { AppWrap, MotionWrap } from '../../wrapper'\nimport { urlFor, client } from '../../client'\nimport './Work.scss'\nimport Pagination from '../../components/Pagination/Pagination'\n\nconst Work = () => {\n   const [activeFilter, setActiveFilter] = useState('All')\n   const [animateCard, setAnimateCard] = useState({ y: 0, opacity: 1 })\n   const [works, setWorks] = useState([])\n   const [filterWork, setFilterWork] = useState([])\n\n   const postsPerPage = 8\n   const [currentPage, setCurrentPage] = useState(1)\n   const pageNumbers = Math.ceil(filterWork.length / postsPerPage)\n   const indexOfLastPost = currentPage * postsPerPage\n   const indexOfFirstPost = indexOfLastPost - postsPerPage\n   const paginateFront = () =>\n      currentPage < pageNumbers\n         ? setCurrentPage(currentPage + 1)\n         : setCurrentPage(currentPage)\n   const paginateBack = () =>\n      currentPage > 1\n         ? setCurrentPage(currentPage - 1)\n         : setCurrentPage(currentPage)\n   const paginate = (pageNumber) => setCurrentPage(pageNumber)\n\n   const totalWorks = filterWork.length\n   const currentWorks = filterWork.slice(indexOfFirstPost, indexOfLastPost)\n\n   useEffect(() => {\n      const query = '*[_type == \"works\"]'\n      client.fetch(query).then((data) => {\n         setWorks(data)\n         setFilterWork(data)\n\n      })\n   }, [])\n\n   const handleWorkFilter = (item) => {\n      setActiveFilter(item)\n      setAnimateCard([{ y: 100, opacity: 0 }])\n      setCurrentPage(1)\n\n      setTimeout(() => {\n         setAnimateCard([{ y: 0, opacity: 1 }])\n\n         if (item === 'All') {\n            setFilterWork(works)\n         } else {\n            setFilterWork(works.filter((work) => work.tags.includes(item)))\n         }\n      }, 500)\n   }\n\n   return (\n      <div className='app__works'>\n         <h2 className='works__text'>\n            Projects\n         </h2>\n         <div className='app__work-filter'>\n            { [\n               'All',\n               'HTML CSS JS',\n               'React',\n               'Vue',\n               'Django',\n               'Laravel',\n            ].map((item, index) => (\n               <div\n                  key={ index }\n                  onClick={ () => handleWorkFilter(item) }\n                  className={ `app__work-filter-item ${\n                     activeFilter === item ? 'item-active' : ''\n                  }` }\n               >\n                  <p>{ item }</p>\n               </div>\n            )) }\n         </div>\n         <motion.div\n            animate={ animateCard }\n            transition={ { duration: 1, delayChildren: 1 } }\n            className='app__work-portfolio'\n         >\n            { currentWorks?.map((work, index) => (\n               <div\n                  className='app__work-item' key={ index }>\n                  <div className='app__work-img'>\n                     <img src={ urlFor(work.imgUrl) } alt={ work.name } />\n                  </div>\n\n                  <div className='app__work-content '>\n                     <h4>{ work.title }</h4>\n                     <p>{ work.description }</p>\n                     <p className='p__author'>\n                        <span>Author:</span> SVM\n                     </p>\n                     <p className='p__date'>\n                        <span>Date:</span> 01.01.2023\n                     </p>\n                     <div className='app__work-tag '>\n                        <p>{ work.tags[1] } </p>\n                     </div>\n                  </div>\n                  <a href={ work.projectLink } target='_blank'>\n                     <motion.div\n                        whileHover={ { opacity: [0, 1] } }\n                        transition={ {\n                           duration: 0.25,\n                           ease: 'easeInOut',\n                           staggerChildren: 0.5,\n                        } }\n                        className='app__work-hover'\n                        onClick=''\n                     >\n                        <a\n                           href={ work.projectLink }\n                           target='_blank'\n                           rel='noreferrer'\n                        >\n                           <motion.div\n                              whileInView={ { scale: [0, 1] } }\n                              whileHover={ { scale: [1, 0.9] } }\n                              transition={ { duration: 0.25 } }\n                           >\n                              <AiFillEye />\n                           </motion.div>\n                        </a>\n                        <a href={ work.codeLink } target='_blank' rel='noreferrer'>\n                           <motion.div\n                              whileInView={ { scale: [0, 1] } }\n                              whileHover={ { scale: [1, 0.9] } }\n                              transition={ { duration: 0.25 } }\n                           >\n                              <AiFillGithub />\n                           </motion.div>\n                        </a>\n                     </motion.div>\n                  </a>\n               </div>\n            )) }\n            { !currentWorks.length && (\n               <div className='in__process'>\n                  <h1>In the process of being placed in the portfolio</h1>\n               </div>\n            ) }\n            <Pagination\n               postsPerPage={ postsPerPage }\n               totalWorks={ totalWorks }\n               paginate={ paginate }\n               paginateBack={ paginateBack }\n               paginateFront={ paginateFront }\n               currentPage={ currentPage }\n            />\n         </motion.div>\n      </div>\n   )\n}\n\nexport default AppWrap(\n   MotionWrap(Work, 'app__works'),\n   'projects',\n   'app__works_bg_'\n)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}